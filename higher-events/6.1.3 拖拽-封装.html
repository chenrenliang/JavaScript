<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #div1{width:100px;height:100px;background:red;position:absolute;}
        #div2{width:100px;height:100px;background:green;position:absolute;}
        #div3{width:100px;height:100px;background:yellow;position:absolute;}
    </style>
</head>
<body>
<div id="div1"></div>
<div id="div2"></div>
<div id="div3"></div>
<script>
    drag('div1');
    drag('div2');
    drag('div3');

    function drag(id){
        var oDiv=document.getElementById(id);

        oDiv.onmousedown=function(ev){
            var oEvent=ev||window.event;
            var disX=oEvent.clientX-oDiv.offsetLeft;
            var disY=oEvent.clientY-oDiv.offsetTop;

            document.onmousemove=mousemove;
            document.onmouseup=mouseup;
            return false;//阻止默认选中

            function mousemove(ev){
                var  oEvent=ev || window.event;
                var l=oEvent.clientX-disX;
                var t=oEvent.clientY-disY;
                if(l<0){l=0;}
                else if(l>document.documentElement.clientWidth-oDiv.offsetWidth){
                    l=document.documentElement.clientWidth-oDiv.offsetWidth;
                }
                if(t<0){t=0;}
                else if(t>document.documentElement.clientHeight-oDiv.offsetHeight){
                    t=document.documentElement.clientHeight-oDiv.offsetHeight;
                }
                oDiv.style.left=l+"px";
                oDiv.style.top=t+"px";
            }

            function mouseup(){
                document.onmousemove=null;
                document.onmouseup=null;
            }

        }

    }

</script>
</body>
</html>